<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> BNTL-Multi-Sources | John Chenxi Song </title> <meta name="author" content="John Chenxi Song"> <meta name="description" content="Bayesian Network Transfer Learning (BN-TL) algorithm to re-use of source model through multiple data sources"> <meta name="keywords" content="jekyll, Machine Learning, John Song, Chenxi Song, PhD"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://johncxsong.github.io/projects/BNTL/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">John</span> Chenxi Song </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Curriculum Vitae </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">Projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">BNTL-Multi-Sources</h1> <p class="post-description">Bayesian Network Transfer Learning (BN-TL) algorithm to re-use of source model through multiple data sources</p> </header> <article> <p><strong>This package is in private, and please contact author to get package.</strong></p> <h4 id="1-introduction">1. Introduction</h4> <p>The goal of this project is to increase the re-use of computable biomedical knowledge in probabilistic formalisms. In the field of transfer learning, which is a sub-area of machine learning, these differences between settings are referred to as heterogeneity. Unlike traditional machine learning, transfer learning explicitly distinguishes between a source setting, from which we develop a model M that we would like to re-use, and a target setting, for which we use or adapt M, often because the target setting has insufficient data to develop a model de novo. Researchers distinguish transfer learning algorithms by what kinds of heterogeneous transfer learning scenarios (or simply heterogeneous scenarios) they can handle.</p> <p>This project created the Bayesian Network Transfer Learning (BN-TL) algorithm to re-use of source model, such as influenza, learned from electronic medical record (EMR) data to predict the target data set. (for more info see: <em>Transfer Learning For Bayesian Case Detection Systems</em>)</p> <h4 id="2-quick-start">2. Quick Start</h4> <p><em>If you have not install JAVA JDK 18 or 1.8 yet, please install first</em></p> <h5 id="21-set-up">2.1 Set Up</h5> <ol> <li> <code class="language-plaintext highlighter-rouge">Git clone https://github.com/AI-In-Population-Health-Lab/BNTL_multiSource.git</code> or download as zip file</li> <li> <a href="https://download.bayesfusion.com/files.html?category=Academia" rel="external nofollow noopener" target="_blank">download your get 6-month smile key</a> –&gt; put into <code class="language-plaintext highlighter-rouge">smile_license folder</code> </li> </ol> <h5 id="211-cli---quick-start">2.1.1 CLI - Quick Start</h5> <ol> <li><code class="language-plaintext highlighter-rouge">cd BNTL current direcotry</code></li> <li> <code class="language-plaintext highlighter-rouge">java -jar BNTL_MultiSource.jar</code> ==&gt; this will show the brief instruction of the project.</li> <li><code class="language-plaintext highlighter-rouge">java -Djava.library.path=./lib -jar BNTL_MultiSource.jar ./smile_license/License.java ./no_KL FLU-SLC2AC-0809-transfer20090118-IG001-NB unadjust ratio off</code></li> </ol> <h5 id="212-intellij-idea">2.1.2 IntelliJ IDEA</h5> <ol> <li>Open BNTL project</li> <li>Src folder —&gt; QuickStart.java</li> <li>Check QuickStart.java comments for configuration to add smile package into library.</li> <li>Run</li> </ol> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/5.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/6.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/7.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h4 id="3-run-your-own-models">3. Run your own models</h4> <h5 id="31-prepare-input-folder">3.1 Prepare input folder</h5> <ul> <li>data must be in .arff format.</li> <li>model must be in .bif, .xml, .xdsl format.</li> </ul> <h6 id="311-structure-of-input-folder">3.1.1 structure of input folder</h6> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>folder_name
    utility
        your configurationFile.txt
    sourceData
        sourceData.arff
    sourceModel
        source_learn_model.bif (you could put multi-models)
    targetData
        target_test_data.arff
        target_train_data.arff
    targetModel
    result
        intermediate folder--&gt;to store result.
    log
</code></pre></div></div> <h6 id="312-parameters-for-configurationfiletxt">3.1.2 parameters for configurationFile.txt</h6> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
-----Source Part-----
sourceDataLoc=
sourceModelLoc=
sourceDataName=source_data.arff
sourceLearnedModelName= 1.bif,2.bif,...
sourceDataSize=1661,1661....
-----Target Part-----
targetNodeName=diagnosis
targetTrainDataSize=21
targetTestDataName=test_data.arff
targetTestDataSize=344
targetModelLoc=path---&gt;targetModel/
targetDataName=train_data.arff
targetDataLoc=path--&gt;targetData/
-------feature-------
modelLearningApproach=NB
featureSelectionApproach=IG001

-------Path------
temporaryFileName=temp.xml
experimentFileLoc= path to folder
utilityLoc=path--&gt;/utility/
resultProbName=prob.csv
resultAUCName=auc.csv
logName=configuration_file.txt
resultLoc=path---&gt;result/
logLoc=path--&gt;log/
hashCodeName=hashCode.xml


------------KL----------(if you want to perform KL section)

trueKL=1.8224292702088067  

trueBFTable=hypoxemia,1.0E-9;reported_fever,1.0E-9;influenza_lab_positive,1.0E-9;age_group,1.0E-9;diagnosis,1.0E-9;unspecified_cough,3.2417270528642096E-6;nasal_swab_order,1.0E-9;   

KL_targetData_learnedSourceModel=1.2568181979662876  

nodeKLTable_targetData_learnedSourceModel=diagnosis,0.0045124560875614075;unspecified_cough,0.09813077790883455;reported_fever,0.4261776773290663;age_group,0.01770522273709965;hypoxemia,0.47951291320078326;nasal_swab_order,0.114442540587127;  

KL_targetData_trueSourceModel=1.660745666413443  

nodeKLTable_targetData_trueSourceModel=diagnosis,0.03595232239858527;age_group,0.0281376732895748;nasal_swab_order,0.05359926700974576;unspecified_cough,0.019446531674810627;reported_fever,0.4892853435516517;influenza_lab_positive,0.09896658196551227;hypoxemia,0.8059805217479895;  

</code></pre></div></div> <ul> <li>run unadjust &amp; ratio performance, you need to have Source Part, Target Part, Feature Part, and Path part.</li> <li>Run KL options, you need to have KL Part that includes in configuration file.</li> <li>For multi-source processing, <div class="language-plaintext highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>sourceLearnedModelName= 1.bif,2.bif,...
sourceDataSize=1661,1661...
</code></pre></div> </div> </li> </ul> <h4 id="4-weighted--multi-sources">4. Weighted &amp; Multi-Sources</h4> <h5 id="41-weighted-unadjusted--ratio">4.1 Weighted (unadjusted &amp; Ratio)</h5> <p>Searching model process is led by a score. The score is the sum of log marginal likelihood and log structure prior</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h6 id="411-unadjusted-approach">4.1.1 Unadjusted Approach</h6> <p>Use sample size of the source training data.</p> <h6 id="412-ratio-approach">4.1.2 Ratio Approach</h6> <p>Use sample size of the target training data.</p> <p>Number of target instances / number of source training instances</p> <p>Weight the source sample size based on the similarity between the target distribution and the source distribution.  If the source and the target distributions are very different, it would be better to assign a lower equivalent sample size for a transferred source model.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h5 id="42-multi-sources">4.2 Multi-Sources</h5> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h4 id="5-resources">5. Resources</h4> <ul> <li> <a href="https://waikato.github.io/weka-wiki/" rel="external nofollow noopener" target="_blank">Weka package</a> It provides data format structure, the Bayes Network Structure, classifier, evaluation methods.</li> <li> <a href="https://support.bayesfusion.com/docs/Wrappers/" rel="external nofollow noopener" target="_blank">Jsmile package</a>It is encoding the Bayes Network for depth of probability calculation.</li> </ul> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 John Chenxi Song. <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Update: 12/05/2024 </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"About",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-curriculum-vitae",title:"Curriculum Vitae",description:"",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"nav-publications",title:"Publications",description:"",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"nav-projects",title:"Projects",description:"A growing collection projects.",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-blog",title:"Blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"post-cuda-8-0-setup",title:"CUDA 8.0 Setup",description:"walk through setup for CUDA 8.0 and tensorflow 1.xx",section:"Posts",handler:()=>{window.location.href="/blog/2024/CUDA8/"}},{id:"post-prov-gigapath-setup-tutorial",title:"Prov-Gigapath Setup Tutorial",description:"walk through setup for pretrain model",section:"Posts",handler:()=>{window.location.href="/blog/2024/Provgigapath/"}},{id:"post-java-jdk8-comparsion-method-violates-its-general-contract",title:"JAVA JDK8-Comparsion method violates its general contract",description:"Comparsion method violates its general contract",section:"Posts",handler:()=>{window.location.href="/blog/2023/Comparsion_method/"}},{id:"news-online-transfer-learning-for-rsv-case-detection-has-been-posted-on-arxiv",title:"Online Transfer Learning for RSV Case Detection has been posted on arXiv",description:"",section:"News"},{id:"news-online-transfer-learning-for-rsv-case-detection-published-in-2024-ieee-12th-international-conference-on-healthcare-informatics-ichi",title:"Online Transfer Learning for RSV Case Detection \u2013Published in: 2024 IEEE 12th International...",description:"",section:"News"},{id:"news-amia-2025-informatics-summit",title:"AMIA 2025 Informatics Summit",description:"",section:"News",handler:()=>{window.location.href="/news/AMIA/"}},{id:"news-transfer-learning-with-clinical-concept-embeddings-from-large-language-models-has-been-posted-on-arxiv",title:"Transfer Learning with Clinical Concept Embeddings from Large Language Models has been posted...",description:"",section:"News"},{id:"projects-bntl-multi-sources",title:"BNTL-Multi-Sources",description:"Bayesian Network Transfer Learning (BN-TL) algorithm to re-use of source model through multiple data sources",section:"Projects",handler:()=>{window.location.href="/projects/BNTL/"}},{id:"projects-disease-surveillance-using-llm",title:"Disease Surveillance Using LLM",description:"Probabilistic Disease Surveillance Using Large Language Model",section:"Projects",handler:()=>{window.location.href="/projects/LLM/"}},{id:"projects-exploring-the-integration-foundational-model",title:"Exploring the Integration Foundational Model",description:"Exploring the Integration Potential of Foundational Models (Prov-GigaPath) with the National Mesothelioma Virtual Bank",section:"Projects",handler:()=>{window.location.href="/projects/Prov-gigapath/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%79%6F%75@%65%78%61%6D%70%6C%65.%63%6F%6D","_blank")}},{id:"socials-rss",title:"RSS Feed",section:"Socials",handler:()=>{window.open("/feed.xml","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>